FROM swr.cn-north-4.myhuaweicloud.com/ddn-k8s/docker.io/maven:3.9.9-eclipse-temurin-17-noble AS build

WORKDIR /app

COPY pom.xml ./
COPY src ./src

# ç¼–è¯‘æ„å»ºå¯æ‰§è¡Œ jar
RUN mvn clean package -DskipTests

# -------- ğŸš€ è¿è¡Œé˜¶æ®µï¼šåªå« JDKï¼ˆæ—  Mavenï¼‰ --------
FROM swr.cn-north-4.myhuaweicloud.com/ddn-k8s/docker.io/eclipse-temurin:17-noble

WORKDIR /app

# æ‹·è´ jar æ–‡ä»¶
COPY --from=build /app/target/*.jar app.jar

ENTRYPOINT ["java", "-jar", "app.jar"]
